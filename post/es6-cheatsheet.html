<!DOCTYPE html>
<html lang="en">
<head>
  <!-- content-Type -->
<meta charset="utf-8">


<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="language" content="en">
<meta name="robots" content="all">


<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="email=no" name="format-detection">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



<meta name="author" content="theme.author, theme.email">
<meta name="reply-to" content="theme.email">
<meta name="owner" content="theme.author">




<meta name="google-site-verification" content="UA-78049587-1" />




<meta name="baidu-site-verification" content="fRBucd9VmI" />




<meta name="baidu-gxt-verify-token" content="ca8f032797b876ef3be37c3d492168a0" />




<meta name="description" content="hello word! ğŸ˜º" />




<meta name="keywords" content="JavaScript," />


<meta name="description" content="tipåŸæ–‡ https://github.com/DrkSephy/es6-cheatsheet


ES6 æ‰‹å†Œè¿™ç¯‡æ‰‹å†ŒåŒ…å«äº† ES2015(ES6) çš„ä½¿ç”¨å°æŠ€å·§ã€æœ€ä½³å®è·µä»¥åŠå¯ä»¥ç»™ä½ æ¯å¤©çš„å·¥ä½œå‚è€ƒçš„ä»£ç ç‰‡æ®µã€‚
å†…å®¹åˆ—è¡¨
var å’Œ let/const çš„æ¯”è¾ƒ
ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES
ç®­å¤´å‡½æ•°
å­—ç¬¦ä¸²
è§£æ„
æ¨¡å—
å‚æ•°
ç±» Classes
Symbols
Maps
WeakMaps
Pr">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6 æ‰‹å†Œ">
<meta property="og:url" content="http://qiutc.me/post/es6-cheatsheet.html">
<meta property="og:site_name" content="é˜¿åŸçš„blog">
<meta property="og:description" content="tipåŸæ–‡ https://github.com/DrkSephy/es6-cheatsheet


ES6 æ‰‹å†Œè¿™ç¯‡æ‰‹å†ŒåŒ…å«äº† ES2015(ES6) çš„ä½¿ç”¨å°æŠ€å·§ã€æœ€ä½³å®è·µä»¥åŠå¯ä»¥ç»™ä½ æ¯å¤©çš„å·¥ä½œå‚è€ƒçš„ä»£ç ç‰‡æ®µã€‚
å†…å®¹åˆ—è¡¨
var å’Œ let/const çš„æ¯”è¾ƒ
ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES
ç®­å¤´å‡½æ•°
å­—ç¬¦ä¸²
è§£æ„
æ¨¡å—
å‚æ•°
ç±» Classes
Symbols
Maps
WeakMaps
Pr">
<meta property="og:image" content="http://qiutc.me/img/es6.jpg">
<meta property="og:updated_time" content="2016-07-30T09:03:47.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6 æ‰‹å†Œ">
<meta name="twitter:description" content="tipåŸæ–‡ https://github.com/DrkSephy/es6-cheatsheet


ES6 æ‰‹å†Œè¿™ç¯‡æ‰‹å†ŒåŒ…å«äº† ES2015(ES6) çš„ä½¿ç”¨å°æŠ€å·§ã€æœ€ä½³å®è·µä»¥åŠå¯ä»¥ç»™ä½ æ¯å¤©çš„å·¥ä½œå‚è€ƒçš„ä»£ç ç‰‡æ®µã€‚
å†…å®¹åˆ—è¡¨
var å’Œ let/const çš„æ¯”è¾ƒ
ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES
ç®­å¤´å‡½æ•°
å­—ç¬¦ä¸²
è§£æ„
æ¨¡å—
å‚æ•°
ç±» Classes
Symbols
Maps
WeakMaps
Pr">






  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.0.1" />






<link href="http://cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.0.1"/>


<script>
(function(){
  var bp = document.createElement('script');
  bp.src = '//push.zhanzhang.baidu.com/push.js';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();
</script>

  <title> ES6 æ‰‹å†Œ </title>
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-78049587-1', 'auto');
  ga('send', 'pageview');
</script>



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?47d302b006bf28a09c22990da53cd3da";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



</head>
<body lang="zh-Hans">

  <!--[if lte IE 9]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->


  <div class="another-theme layout">

    
<header class="header" id="header" style="background: url(/img/es6-cheatsheet.jpg) center / cover">

  <div class="header-cont">
    <div class="text-area">
      
        <h1 class="title"> ES6 æ‰‹å†Œ </h1>

        
        <div class="post-meta">
          <div class="post-time">
            å‘è¡¨äº
            <time  datetime="2016-07-27T09:05:05+08:00" content="2016-07-27">
              2016-07-27
            </time>
          </div>

          
            <div class="post-category" >
              
                <span>
                  <a href="/categories#JavaScript" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                

              
            </div>
          

          
            
              <span class="post-comments-count">
                <a href="/post/es6-cheatsheet.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/es6-cheatsheet.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
        </div>
        
      
    </div>
    <!-- Navigation -->
    
    <nav class="navigation clearfix" id="navigation">
      
        
        <a class="nav-link" href="/" rel="section">
          é¦–é¡µ
        </a>
      
        
        <a class="nav-link" href="/categories" rel="section">
          åˆ†ç±»
        </a>
      
        
        <a class="nav-link" href="/tags" rel="section">
          æ ‡ç­¾
        </a>
      
        
        <a class="nav-link" href="/about" rel="section">
          å…³äº
        </a>
      
    </nav>
    
  </div>
  <div class="mask"></div>
</header>


    <main class="container">

      

  <article class="post-article post-type-normal post" itemscope>

    <div class="post-body">

      <div class="content markdown-body"><h1 id="tip">tip</h1><p>åŸæ–‡ <a href="https://github.com/DrkSephy/es6-cheatsheet" target="_blank" rel="external">https://github.com/DrkSephy/es6-cheatsheet</a></p>
<hr>
<p><img src="/img/es6.jpg" alt="es6"></p>
<h1 id="ES6_æ‰‹å†Œ">ES6 æ‰‹å†Œ</h1><p>è¿™ç¯‡æ‰‹å†ŒåŒ…å«äº† ES2015(ES6) çš„ä½¿ç”¨å°æŠ€å·§ã€æœ€ä½³å®è·µä»¥åŠå¯ä»¥ç»™ä½ æ¯å¤©çš„å·¥ä½œå‚è€ƒçš„ä»£ç ç‰‡æ®µã€‚</p>
<h2 id="å†…å®¹åˆ—è¡¨">å†…å®¹åˆ—è¡¨</h2><ul>
<li><a href="#var_å’Œ_let/const_çš„æ¯”è¾ƒ">var å’Œ let/const çš„æ¯”è¾ƒ</a></li>
<li><a href="#ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿_IIFES">ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES</a></li>
<li><a href="#ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</a></li>
<li><a href="#å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</a></li>
<li><a href="#è§£æ„">è§£æ„</a></li>
<li><a href="#æ¨¡å—">æ¨¡å—</a></li>
<li><a href="#å‚æ•°">å‚æ•°</a></li>
<li><a href="#ç±»_Classes">ç±» Classes</a></li>
<li><a href="#Symbols">Symbols</a></li>
<li><a href="#Maps">Maps</a></li>
<li><a href="#WeakMaps">WeakMaps</a></li>
<li><a href="#Promises">Promises</a></li>
<li><a href="#Generators_ç”Ÿæˆå™¨">Generators ç”Ÿæˆå™¨</a></li>
<li><a href="#Async_Await">Async Await</a></li>
<li><a href="#Getter/Setter_å‡½æ•°">Getter/Setter å‡½æ•°</a></li>
</ul>
<h2 id="var_å’Œ_let/const_çš„æ¯”è¾ƒ">var å’Œ let/const çš„æ¯”è¾ƒ</h2><blockquote>
<p>é™¤äº† <code>var</code> ï¼Œæˆ‘ä»¬ç°åœ¨è¿˜å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ–°çš„æ ‡ç¤ºç¬¦æ¥å®šä¹‰ä¸€ä¸ªå˜é‡ â€”â€” <code>let</code> å’Œ <code>const</code>ã€‚å’Œ <code>var</code> ä¸ä¸€æ ·çš„æ˜¯ï¼Œ<code>let</code> å’Œ <code>const</code> ä¸å­˜åœ¨å˜é‡æå‡ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ <code>var</code> çš„æ —å­ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> snack = <span class="string">'Meow Mix'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFood</span><span class="params">(food)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (food) &#123;</span><br><span class="line">        <span class="keyword">var</span> snack = <span class="string">'Friskies'</span>;</span><br><span class="line">        <span class="keyword">return</span> snack;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> snack;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getFood(<span class="literal">false</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
<p>å½“æˆ‘ä»¬ç”¨ <code>let</code> ä»£æ›¿ <code>var</code> çš„æ—¶å€™ï¼Œè§‚å¯Ÿä¼šå‘ç”Ÿä»€ä¹ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> snack = <span class="string">'Meow Mix'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFood</span>(<span class="params">food</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (food) &#123;</span><br><span class="line">        <span class="keyword">let</span> snack = <span class="string">'Friskies'</span>;</span><br><span class="line">        <span class="keyword">return</span> snack;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> snack;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getFood(<span class="literal">false</span>); <span class="comment">// 'Meow Mix'</span></span><br></pre></td></tr></table></figure></p>
<p>å½“æˆ‘ä»¬é‡æ„ä½¿ç”¨ <code>var</code> çš„è€ä»£ç çš„æ—¶å€™åº”è¯¥æ³¨æ„ä¸Šé¢çš„å˜åŒ–ã€‚ç›²ç›®åœ°ä½¿ç”¨ <code>let</code> æ›¿æ¢ <code>var</code> å¯èƒ½ä¼šå‡ºç°å‡ºä¹æ„æ–™çš„æƒ…å†µã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š <code>let</code> å’Œ <code>const</code> æ˜¯å—çº§ä½œç”¨åŸŸï¼Œå› æ­¤åœ¨å˜é‡æœªè¢«å®šä¹‰ä¹‹å‰ä½¿ç”¨å®ƒä¼šäº§ç”Ÿä¸€ä¸ª <code>ReferenceError</code>ã€‚</p>
</blockquote>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(x); <span class="regexp">//</span> <span class="attribute">ReferenceError</span>: x <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"></span><br><span class="line">let x = <span class="string">'hi'</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š åœ¨é—ç•™ä»£ç ä¸­æ”¾å¼ƒä½¿ç”¨ <code>var</code> å£°æ˜æ„å‘³ç€éœ€è¦å¾ˆå°å¿ƒåœ°é‡æ„ï¼›åœ¨æ–°çš„é¡¹ç›®ä»£ç ä¸­ï¼Œä½¿ç”¨ <code>let</code> å£°æ˜ä¸€ä¸ªå¯ä»¥æ”¹å˜çš„å˜é‡ï¼Œç”¨ <code>const</code> å£°æ˜ä¸€ä¸ªä¸èƒ½è¢«é‡æ–°èµ‹å€¼çš„å˜é‡ã€‚</p>
</blockquote>
<h2 id="ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿_IIFES">ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES</h2><blockquote>
<p><strong>å‡½æ•°ç«‹å³æ‰§è¡Œè¡¨è¾¾å¼</strong> çš„é€šå¸¸ç”¨é€”æ˜¯åˆ›é€ ä¸€ä¸ªå†…éƒ¨çš„ä½œç”¨åŸŸï¼Œåœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåˆ›é€ ä¸€ä¸ªå—çº§ä½œç”¨åŸŸè€Œä¸ä»…é™äºå‡½æ•°ä½œç”¨åŸŸï¼š</p>
</blockquote>
<p>IIFESï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> food = <span class="string">'Meow Mix'</span>;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(food); <span class="comment">// Reference Error</span></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ ES6 çš„å—çº§ä½œç”¨åŸŸï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> food = <span class="string">'Meow Mix'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(food); <span class="comment">// Reference Error</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</h2><p>æˆ‘ä»¬ç»å¸¸éœ€è¦ç»™å›è°ƒå‡½æ•°ç»´æŠ¤ä¸€ä¸ªè¯æ³•ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ <code>this</code>ã€‚<br>çœ‹çœ‹è¿™ä¸ªæ —å­ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.prefixName = <span class="function"><span class="keyword">function</span> <span class="params">(arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span> <span class="params">(character)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + character; <span class="comment">// Cannot read property 'name' of undefined</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>ä¸€ä¸ªå¸¸ç”¨çš„è§£å†³åŠæ³•æ˜¯æŠŠ <code>this</code> å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.prefixName = <span class="function"><span class="keyword">function</span> <span class="params">(arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>; <span class="comment">// Store the context of this</span></span><br><span class="line">    <span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span> <span class="params">(character)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> that.name + character;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªåˆé€‚çš„ <code>this</code> ä¸Šä¸‹æ–‡ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.prefixName = <span class="function"><span class="keyword">function</span> <span class="params">(arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span> <span class="params">(character)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + character;</span><br><span class="line">    &#125;, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ç»‘å®šä¸Šä¸‹æ–‡ï¼š<br><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span></span> Person(<span class="keyword">name</span>) &#123;</span><br><span class="line">    this.<span class="keyword">name</span> = <span class="keyword">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.prefixName = <span class="function"><span class="keyword">function</span></span> (arr) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span></span> (<span class="type">character</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> this.<span class="keyword">name</span> + <span class="type">character</span>;</span><br><span class="line">    &#125;.<span class="keyword">bind</span>(this));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <strong>ç®­å¤´å‡½æ•°</strong>ï¼Œ<code>this</code> å°†ä¸ä¼šå—åˆ°å½±å“ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥é‡å†™ä¸Šé¢çš„å‡½æ•°ï¼š<br><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> Person(<span class="keyword">name</span>) &#123;</span><br><span class="line">    this.<span class="keyword">name</span> = <span class="keyword">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.prefixName = <span class="function"><span class="keyword">function</span></span> (arr) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.map(<span class="type">character</span> =&gt; this.<span class="keyword">name</span> + <span class="type">character</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå½“ä½ éœ€è¦ç»´æŠ¤ä¸€ä¸ª <code>this</code> ä¸Šä¸‹æ–‡çš„æ—¶å€™ä½¿ç”¨ <strong>ç®­å¤´å‡½æ•°</strong>ã€‚</p>
</blockquote>
<p>åœ¨æˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç®­å¤´å‡½æ•°æ›´åŠ ç®€æ´å¹¶ä¸”å¯ä»¥å¾ˆç®€å•åœ°è¿”å›ä¸€ä¸ªå€¼ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> squares = arr.map(<span class="function"><span class="keyword">function</span> <span class="params">(x)</span> </span>&#123; <span class="keyword">return</span> x * x &#125;); <span class="comment">// Function Expression</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> squares = arr.<span class="built_in">map</span>(x =&gt; x * x); <span class="comment">// Arrow Function for terser implementation</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå°½å¯èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿åŸæ¥çš„å†™æ³•ã€‚</p>
</blockquote>
<h2 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h2><p>åœ¨ ES6 ä¸­ï¼Œæ ‡å‡†åº“å‡çº§äº†å¾ˆå¤šï¼Œåœ¨è¿™äº›å˜åŒ–ä¸­æœ‰è®¸å¤šæ–°çš„å¯¹äºå­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œæ¯”å¦‚ <code>.includes()</code> å’Œ <code>.repeat()</code>ã€‚</p>
<h3 id="-includes(_)">.includes( )</h3><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="built_in">var</span> <span class="built_in">string</span> = <span class="string">'food'</span>;</span><br><span class="line"><span class="built_in">var</span> substring = <span class="string">'foo'</span>;</span><br><span class="line"></span><br><span class="line">console<span class="built_in">.</span><span class="keyword">log</span>(<span class="built_in">string</span><span class="built_in">.</span>indexOf(substring) &gt; -<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨ <code>indexOf()</code> å‡½æ•°çš„è¿”å›å€¼æ˜¯å¦ <code>&gt;-1</code> æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸäº›å­—ç¬¦ä¸²ï¼Œç°åœ¨æˆ‘ä»¬æ›´ç®€å•åœ°ä½¿ç”¨ <code>.includes()</code> æ¥è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥åˆ¤æ–­ï¼š<br><figure class="highlight mel"><table><tr><td class="code"><pre><span class="line">const <span class="keyword">string</span> = <span class="string">'food'</span>;</span><br><span class="line">const <span class="keyword">substring</span> = <span class="string">'foo'</span>;</span><br><span class="line"></span><br><span class="line">console.<span class="keyword">log</span>(<span class="keyword">string</span>.includes(<span class="keyword">substring</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="-repeat(_)">.repeat( )</h3><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">function <span class="keyword">repeat</span>(<span class="type">string</span>, <span class="command">count</span>) &#123;</span><br><span class="line">    var strings = [];</span><br><span class="line">    <span class="keyword">while</span>(strings.<span class="property">length</span> &lt; <span class="command">count</span>) &#123;</span><br><span class="line">        strings.push(<span class="type">string</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="command">    return</span> strings.join('');</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ ES6 ä¸­ï¼Œå¯ä»¥æ›´ç®€ä¾¿åœ°å®ç°ï¼š<br><figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line"><span class="comment">// String.repeat(numberOfRepetitions)</span></span><br><span class="line"><span class="string">'meow'</span>.<span class="keyword">repeat</span><span class="comment">(3)</span>; <span class="comment">// 'meowmeowmeow'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="æ¨¡ç‰ˆå­—ç¬¦ä¸²">æ¨¡ç‰ˆå­—ç¬¦ä¸²</h3><p>ä½¿ç”¨ <strong>æ¨¡ç‰ˆå­—ç¬¦ä¸²</strong> æˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨å¯¹æŸäº›ç‰¹æ®Šè‡ªè´Ÿè¿›è¡Œè½¬ä¹‰å¤„ç†äº†ï¼š<br><figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">var <span class="keyword">text</span> = <span class="string">"This string contains \"</span><span class="built_in">double</span> quotes\<span class="string">" which are escaped."</span>;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight ocaml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="tag">`This</span> <span class="built_in">string</span> contains <span class="string">"double quotes"</span> which don't need <span class="keyword">to</span> be escaped anymore.`;</span><br></pre></td></tr></table></figure>
<p><strong>æ¨¡ç‰ˆå­—ç¬¦ä¸²</strong> è¿˜æ”¯æŒæ’å…¥ï¼Œå¯ä»¥æŠŠå˜é‡å€¼å’Œå­—ç¬¦ä¸²è¿æ¥èµ·æ¥.<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'Tiger'</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'My cat is named '</span> + name + <span class="string">' and is '</span> + age + <span class="string">' years old.'</span>);</span><br></pre></td></tr></table></figure></p>
<p>æ›´ç®€å•ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'Tiger'</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`My cat is named <span class="subst">$&#123;name&#125;</span> and is <span class="subst">$&#123;age&#125;</span> years old.`</span>);</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ ES5 ä¸­ï¼Œéœ€è¦æ¢è¡Œæ—¶ï¼Œéœ€è¦è¿™æ ·ï¼š<br><figure class="highlight ocaml"><table><tr><td class="code"><pre><span class="line">var text = (</span><br><span class="line">    <span class="symbol">'cat</span>\n' +</span><br><span class="line">    <span class="symbol">'dog</span>\n' +</span><br><span class="line">    <span class="symbol">'nickelodeon'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…è¿™æ ·ï¼š<br><figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> text = [</span><br><span class="line">    <span class="string">'cat'</span>,</span><br><span class="line">    <span class="string">'dog'</span>,</span><br><span class="line">    <span class="string">'nickelodeon'</span></span><br><span class="line">].<span class="keyword">join</span>(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure></p>
<p><strong>æ¨¡ç‰ˆå­—ç¬¦ä¸²</strong> å¯ä»¥æ”¯æŒæ¢è¡Œå¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„å¤„ç†ï¼š<br><figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line">let text = ( <span class="escape">`c</span>at</span><br><span class="line">dog</span><br><span class="line">nickelodeon<span class="escape">`</span><br><span class="line"></span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æ¨¡ç‰ˆå­—ç¬¦ä¸²</strong> è¿˜æ”¯æŒè¡¨è¾¾å¼ï¼š<br><figure class="highlight vbscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> text = `The <span class="built_in">time</span> <span class="keyword">and</span> <span class="built_in">date</span> <span class="keyword">is</span> $&#123;today.toLocaleString()&#125;`;</span><br></pre></td></tr></table></figure></p>
<h2 id="è§£æ„">è§£æ„</h2><p>ç»“æ„å¯ä»¥è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´ç®€ä¾¿çš„è¯­æ³•ä»ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡ï¼ˆå³ä½¿æ˜¯æ·±å±‚çš„ï¼‰ä¸­åˆ†ç¦»å‡ºæ¥å€¼ï¼Œå¹¶å­˜å‚¨ä»–ä»¬ã€‚</p>
<h3 id="ç»“æ„æ•°ç»„">ç»“æ„æ•°ç»„</h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> arr</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable"><span class="keyword">var</span> a</span> = arr[<span class="number">0</span>];</span><br><span class="line"><span class="variable"><span class="keyword">var</span> b</span> = arr[<span class="number">1</span>];</span><br><span class="line"><span class="variable"><span class="keyword">var</span> c</span> = arr[<span class="number">2</span>];</span><br><span class="line"><span class="variable"><span class="keyword">var</span> d</span> = arr[<span class="number">3</span>];</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">let [a, b, c, d] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(a); <span class="comment">// 1</span></span><br><span class="line">console.<span class="built_in">log</span>(b); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h3 id="ç»“æ„å¯¹è±¡">ç»“æ„å¯¹è±¡</h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> luke</span> = &#123; occupation: 'jedi', father: 'anakin' &#125;;</span><br><span class="line"><span class="variable"><span class="keyword">var</span> occupation</span> = luke.occupation; <span class="comment">// 'jedi'</span></span><br><span class="line"><span class="variable"><span class="keyword">var</span> father</span> = luke.father; <span class="comment">// 'anakin'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> luke = &#123; occupation: <span class="string">'jedi'</span>, father: <span class="string">'anakin'</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;occupation, father&#125; = luke;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(occupation); <span class="comment">// 'jedi'</span></span><br><span class="line"><span class="built_in">console</span>.log(father); <span class="comment">// 'anakin'</span></span><br></pre></td></tr></table></figure>
<h2 id="æ¨¡å—">æ¨¡å—</h2><p>åœ¨ ES6 ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Browserify</code> è¿™æ ·çš„åº“æ¥åˆ›å»ºå®¢æˆ·ç«¯çš„æ¨¡å—åŒ–ï¼Œåœ¨ <code>node.js</code> ä¸­ä½¿ç”¨ <code>require</code>ã€‚<br>åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰€æœ‰ç±»å‹çš„æ¨¡å—åŒ–ï¼ˆAMD å’Œ CommonJSï¼‰ã€‚</p>
<h3 id="ä½¿ç”¨_CommonJS_çš„å‡ºå£">ä½¿ç”¨ CommonJS çš„å‡ºå£</h3><figure class="highlight openscad"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">module</span>.<span class="title">exports</span> =</span> <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">module</span>.<span class="title">exports</span> =</span> &#123; foo: 'bar' &#125;;</span><br><span class="line"><span class="function"><span class="keyword">module</span>.<span class="title">exports</span> =</span> ['foo', 'bar'];</span><br><span class="line"><span class="function"><span class="keyword">module</span>.<span class="title">exports</span> =</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span> <span class="params">()</span> &#123;</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨_ES6_çš„å‡ºå£">ä½¿ç”¨ ES6 çš„å‡ºå£</h3><p>åœ¨ ES6 ä¸­æˆ‘ä»¬å¯ä»¥æš´æ¼å¤šä¸ªå€¼ï¼Œä½¿ç”¨ <code>Exports</code>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="built_in">let</span> name = <span class="string">'David'</span>;</span><br><span class="line"><span class="built_in">export</span> <span class="built_in">let</span> age  = <span class="number">25</span>;â€‹â€‹</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…æš´éœ²ä¸€ä¸ªå¯¹è±¡åˆ—è¡¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumTwo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumThree</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sumTwo, sumThree &#125;;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥æš´éœ²å‡½æ•°ã€å¯¹è±¡å’Œå…¶ä»–çš„å€¼ï¼Œé€šè¿‡ç®€å•åœ°ä½¿ç”¨ <code>export</code> è¿™ä¸ªå…³é”®å­—ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sumTwo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sumThree</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æœ€åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»‘å®šä¸€ä¸ªé»˜è®¤çš„è¾“å‡ºï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumTwo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumThree</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> api = &#123;</span><br><span class="line">    sumTwo,</span><br><span class="line">    sumThree</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> api;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Which is the same as</span><br><span class="line"> * export &#123; api as default &#125;;</span><br><span class="line"> */</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šæ€»æ˜¯åœ¨æ¨¡å—çš„æœ€åé¢ä½¿ç”¨ <code>export default</code> æ–¹æ³•ï¼Œè¿™å¯ä»¥è®©æš´éœ²çš„ä¸œè¥¿æ›´åŠ æ¸…æ™°å¹¶ä¸”å¯ä»¥èŠ‚çœæ—¶é—´å»æ‰¾å‡ºæš´æ¼å‡ºæ¥å€¼çš„åå­—ã€‚å°¤å…¶å¦‚æ­¤ï¼Œåœ¨ CommonJS ä¸­é€šå¸¸çš„å®è·µå°±æ˜¯æš´éœ²ä¸€ä¸ªç®€å•çš„å€¼æˆ–è€…å¯¹è±¡ã€‚åšæŒè¿™ç§æ¨¡å¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ å¯è¯»ï¼Œå¹¶ä¸”åœ¨ ES6 å’Œ CommonJS æ¨¡å—ä¹‹é—´æ›´å¥½åœ°å…¼å®¹ã€‚</p>
</blockquote>
<h3 id="ES6_ä¸­çš„å¯¼å…¥">ES6 ä¸­çš„å¯¼å…¥</h3><p>åœ¨ ES6 ä¸­åŒæ ·æä¾›äº†å¤šæ ·çš„å¯¼å…¥æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå¯¼å…¥ä¸€ä¸ªæ•´ä¸ªæ–‡ä»¶ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'underscore'</span>;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>éœ€è¦ç€é‡æ³¨æ„çš„ä¸€ç‚¹æ˜¯ç®€å•çš„å¯¼å…¥æ•´ä¸ªæ–‡ä»¶ä¼šåœ¨é‚£ä¸ªæ–‡ä»¶çš„é¡¶éƒ¨æ‰§è¡Œæ‰€æœ‰çš„ä»£ç </p>
</blockquote>
<p>å’Œ Python ä¸­ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥å‘½åå¯¼å…¥çš„å€¼ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sumTwo, sumThree &#125; <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥é‡å‘½åå¯¼å…¥ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    sumTwo <span class="keyword">as</span> addTwoNumbers,</span><br><span class="line">    sumThree <span class="keyword">as</span> sumThreeNumbers</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br></pre></td></tr></table></figure></p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å…¥æ‰€æœ‰çš„ä¸œè¥¿ï¼ˆæ•´ä½“åŠ è½½ï¼‰ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br></pre></td></tr></table></figure></p>
<p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªæ¨¡å—ä¸­å¯¼å…¥ä¸€ä¸ªå€¼çš„åˆ—è¡¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> additionUtil <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; sumTwo, sumThree &#125; = additionUtil;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥åƒè¿™æ ·å¯¼å…¥é»˜è®¤ç»‘å®šçš„è¾“å‡ºï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br><span class="line">// Same <span class="keyword">as</span>: <span class="keyword">import</span> &#123; default <span class="keyword">as</span> api &#125; <span class="keyword">from</span> <span class="string">'math/addition'</span>;</span><br></pre></td></tr></table></figure></p>
<p>è™½ç„¶æœ€å¥½ä¿æŒå‡ºå£çš„ç®€å•ï¼Œä½†å¦‚æœéœ€è¦çš„è¯æˆ‘ä»¬æœ‰æ—¶å¯ä»¥æ··åˆé»˜è®¤çš„è¿›å£å’Œæ··åˆè¿›å£ã€‚å½“æˆ‘ä»¬è¿™æ ·å‡ºå£çš„æ—¶å€™ï¼š<br><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// foos.js</span></span><br><span class="line"><span class="literal">export</span> &#123; foo <span class="literal">as</span> <span class="keyword">default</span>, foo1, foo2 &#125;;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·å¯¼å…¥å®ƒä»¬ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> foo, &#123; foo1, foo2 &#125; <span class="keyword">from</span> <span class="string">'foos'</span>;</span><br></pre></td></tr></table></figure></p>
<p>å½“æˆ‘ä»¬ç”¨ commonjs çš„è¯­æ³•å¯¼å…¥ä¸€ä¸ªæ¨¡å—çš„å‡ºå£æ—¶ï¼ˆæ¯”å¦‚ Reactï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; Component, PropTypes &#125; = React;</span><br></pre></td></tr></table></figure></p>
<p>è¿˜æœ‰æ›´ç²¾ç®€çš„å†™æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¯¼å‡ºçš„å€¼æ˜¯åŠ¨æ€å¼•ç”¨çš„ï¼Œè€Œä¸æ˜¯æ‹·è´ã€‚å› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¨¡å—ä¸­æ”¹å˜ä¸€ä¸ªå˜é‡çš„ç»‘å®šå°†å½±å“è¾“å‡ºæ¨¡å—ä¸­çš„å€¼ã€‚åº”è¯¥é¿å…æ”¹å˜è¿™äº›å¯¼å‡ºå€¼çš„å…¬å…±æ¥å£ã€‚ï¼ˆåŸæ–‡è¿™é‡Œæˆ‘è§‰å¾—æœ‰è¯¯ï¼‰</p>
</blockquote>
<h2 id="å‚æ•°">å‚æ•°</h2><p>åœ¨ ES5 ä¸­ï¼Œåœ¨å‡½æ•°ä¸­æˆ‘ä»¬éœ€è¦å„ç§æ“ä½œå»å¤„ç† <strong><em>é»˜è®¤å‚æ•°</em></strong>ã€<strong><em>ä¸å®šå‚æ•°</em></strong> å’Œ <strong><em>é‡å‘½åå‚æ•°</em></strong> ç­‰éœ€æ±‚ï¼Œåœ¨ ES6 ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„è¯­æ³•å®Œæˆè¿™äº›éœ€æ±‚ï¼š</p>
<h3 id="é»˜è®¤å‚æ•°">é»˜è®¤å‚æ•°</h3><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTwoNumbers</span><span class="params">(x, y)</span> </span>&#123;</span><br><span class="line">    x = x || <span class="number">0</span>;</span><br><span class="line">    y = y || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6 ä¸­ï¼Œå‡½æ•°çš„å‚æ•°å¯ä»¥æ”¯æŒè®¾ç½®é»˜è®¤å€¼ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTwoNumbers</span><span class="params">(x=0, y=0)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">addTwoNumbers(<span class="number">2</span>, <span class="number">4</span>); <span class="comment">// 6</span></span><br><span class="line">addTwoNumbers(<span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line">addTwoNumbers(); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h3 id="rest_å‚æ•°">rest å‚æ•°</h3><p>åœ¨ ES5 ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™ä¹ˆå¤„ç†ä¸å®šå‚æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logArguments</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <strong>rest</strong> ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¤„ç†ä¸ç¡®å®šæ•°ç›®çš„å‚æ•°ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logArguments</span><span class="params">(<span class="rest_arg">...args</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (let arg of args) &#123;</span><br><span class="line">        console.log(arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å‘½åå‚æ•°">å‘½åå‚æ•°</h3><p>åœ¨ ES5 ä¸­æ˜¯ä½¿ç”¨é…ç½®å¯¹è±¡çš„æ¨¡å¼æ¥å¤„ç†å‘½åå‚æ•°ï¼ŒjQuery ä¸­çš„ä½¿ç”¨ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializeCanvas</span><span class="params">(options)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> height = options.height || <span class="number">600</span>;</span><br><span class="line">    <span class="keyword">var</span> width  = options.width  || <span class="number">400</span>;</span><br><span class="line">    <span class="keyword">var</span> lineStroke = options.lineStroke || <span class="string">'black'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è§£æ„çš„ä¸€ä¸ªå‡½æ•°çš„å½¢å‚å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializeCanvas</span><span class="params">(</span><br><span class="line">    &#123; height=600, width=400, lineStroke=<span class="string">'black'</span>&#125;)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Use variables height, width, lineStroke here</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³ä½¿æ•´ä¸ªå€¼å¯é€‰æ‹©ï¼Œæˆ‘ä»¬å¯ä»¥ç»“æ„å°†ä¸€ä¸ªç©ºçš„å¯¹è±¡ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializeCanvas</span><span class="params">(</span><br><span class="line">    &#123; height=600, width=400, lineStroke=<span class="string">'black'</span>&#125; = &#123;&#125;)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å±•å¼€æ“ä½œ">å±•å¼€æ“ä½œ</h3><p>åœ¨ ES5 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ <code>apply</code> <code>Math.max</code> æ–¹æ³•æ¥è·å¾—ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Math.max.apply(null, [-<span class="number">1</span>, <span class="number">100</span>, <span class="number">9001</span>, -<span class="number">32</span>]); <span class="comment">// 9001</span></span><br></pre></td></tr></table></figure></p>
<p>åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å±•å¼€æ“ä½œæŠŠä¸€ä¸ªæ•°ç»„çš„å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Math.max(...[-<span class="number">1</span>, <span class="number">100</span>, <span class="number">9001</span>, -<span class="number">32</span>]); <span class="comment">// 9001</span></span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥æ›´ç®€æ´åœ°ä½¿ç”¨è¿™ä¸ªè¯­æ³•æ¥åˆå¹¶æ•°ç»„ï¼š<br><figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line"><span class="atom">let</span> <span class="atom">cities</span> = [<span class="string">'San Francisco'</span>, <span class="string">'Los Angeles'</span>];</span><br><span class="line"><span class="atom">let</span> <span class="atom">places</span> = [<span class="string">'Miami'</span>, ...<span class="atom">cities</span>, <span class="string">'Chicago'</span>]; // [<span class="string">'Miami'</span>, <span class="string">'San Francisco'</span>, <span class="string">'Los Angeles'</span>, <span class="string">'Chicago'</span>]</span><br></pre></td></tr></table></figure></p>
<h2 id="ç±»_Classes">ç±» Classes</h2><p>åœ¨ ES6 ä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›é€ ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”é€šè¿‡åŸå‹æ¥æ‰©å±•å±æ€§ï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name, age, gender)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name   = name;</span><br><span class="line">    <span class="keyword">this</span>.age    = age;</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.incrementAge = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.age += <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åå¯ä»¥è¿™æ ·ç»§æ‰¿ç±»ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Personal</span>(<span class="params">name, age, gender, occupation, hobby</span>) </span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>, name, age, gender);</span><br><span class="line">    <span class="keyword">this</span>.occupation = occupation;</span><br><span class="line">    <span class="keyword">this</span>.hobby = hobby;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Personal.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line">Personal.prototype.constructor = Personal;</span><br><span class="line">Personal.prototype.incrementAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    Person.prototype.incrementAge.call(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.age += <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ ES6 ä¸­ï¼Œæä¾›äº†æ›´å¤šçš„è¯­æ³•ç³–ï¼Œå¯ä»¥ç›´æ¥åˆ›é€ ä¸€ä¸ªç±»ï¼š<br><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(name, age, gender) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name   = name;</span><br><span class="line">        <span class="keyword">this</span>.age    = age;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    incrementAge() &#123;</span><br><span class="line">      <span class="keyword">this</span>.age += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <code>extends</code> å…³é”®å­—æ¥ç»§æ‰¿ä¸€ä¸ªç±»ï¼š<br><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Personal</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    constructor(name, age, gender, occupation, hobby) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age, gender);</span><br><span class="line">        <span class="keyword">this</span>.occupation = occupation;</span><br><span class="line">        <span class="keyword">this</span>.hobby = hobby;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    incrementAge() &#123;</span><br><span class="line">        <span class="keyword">super</span>.incrementAge();</span><br><span class="line">        <span class="keyword">this</span>.age += <span class="number">20</span>;</span><br><span class="line">        console.log(<span class="keyword">this</span>.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šè™½ç„¶ä½¿ç”¨ ES6 çš„è¯­æ³•åˆ›é€ ç±»çš„æ—¶å€™ï¼Œjså¼•æ“æ˜¯å¦‚ä½•å®ç°ç±»ä»¥åŠå¦‚ä½•æ“ä½œåŸå‹æ˜¯ä»¤äººè´¹è§£çš„ï¼Œä½†æ˜¯æœªæ¥å¯¹åˆå­¦è€…æ¥è¯´è¿™æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®©æˆ‘ä»¬å†™æ›´ç®€æ´çš„ä»£ç ã€‚</p>
</blockquote>
<h2 id="Symbols">Symbols</h2><p><code>Symbols</code> åœ¨ ES6 ä¹‹å‰å°±å·²ç»å­˜åœ¨ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå¼€å‘çš„æ¥å£äº†ã€‚<code>Symbols</code> æ˜¯ä¸å¯æ”¹å˜å¹¶ä¸”æ˜¯ç¬¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥åœ¨ä»»æ„å“ˆå¸Œä¸­ä½œä¸€ä¸ªkeyã€‚</p>
<h3 id="Symbol()">Symbol()</h3><p>è°ƒç”¨ <code>Symbol()</code> æˆ–è€… <code>Symbol(description)</code> å¯ä»¥åˆ›é€ ä¸€ä¸ªç¬¬ä¸€æ— äºŒçš„ç¬¦å·ï¼Œä½†æ˜¯åœ¨å…¨å±€æ˜¯çœ‹ä¸åˆ°çš„ã€‚<code>Symbol()</code> çš„ä¸€ä¸ªä½¿ç”¨æƒ…å†µæ˜¯ç»™ä¸€ä¸ªç±»æˆ–è€…å‘½åç©ºé—´æ‰“ä¸Šè¡¥ä¸ï¼Œä½†æ˜¯å¯ä»¥ç¡®å®šçš„æ˜¯ä½ ä¸ä¼šå»æ›´æ–°å®ƒã€‚æ¯”å¦‚ï¼Œä½ æƒ³ç»™ <code>React.Component</code> ç±»æ·»åŠ ä¸€ä¸ª <code>refreshComponent</code> æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥ç¡®å®šçš„æ˜¯ä½ ä¸ä¼šåœ¨ä¹‹åæ›´æ–°è¿™ä¸ªæ–¹æ³•ï¼š<br><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">const refreshComponent = Symbol();</span><br><span class="line"></span><br><span class="line">React.Component.prototype[refreshComponent] = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="regexp">//</span> <span class="keyword">do</span> something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Symbol-for(key)">Symbol.for(key)</h3><p><code>Symbol.for(key)</code> åŒæ ·ä¼šåˆ›é€ ä¸€ä¸ªç‹¬ä¸€æ— äºŒå¹¶ä¸”ä¸å¯æ”¹å˜çš„ Symbolï¼Œä½†æ˜¯å®ƒå¯ä»¥å…¨å±€çœ‹åˆ°ï¼Œä¸¤ä¸ªç›¸åŒçš„è°ƒç”¨ <code>Symbol.for(key)</code> ä¼šè¿”å›åŒä¸€ä¸ª <code>Symbol</code> ç±»ï¼š<br><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Symbol</span>(<span class="string">'foo'</span>) === <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Symbol</span>.<span class="keyword">for</span>(<span class="string">'foo'</span>) === <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Symbol</span>.<span class="keyword">for</span>(<span class="string">'foo'</span>) === <span class="built_in">Symbol</span>.<span class="keyword">for</span>(<span class="string">'foo'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>å¯¹äº Symbols çš„æ™®éç”¨æ³•ï¼ˆå°¤å…¶æ˜¯<code>Symbol.for(key)</code>ï¼‰æ˜¯ä¸ºäº†ååŒæ€§ã€‚å®ƒå¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶ä¸­å·²çŸ¥çš„æ¥å£ä¸­å¯¹è±¡ä¸­çš„å‚æ•°ä¸­å¯»æ‰¾ç”¨ Symbol æˆå‘˜æ¥å®ç°ï¼Œæ¯”å¦‚ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reader</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> specialRead = <span class="built_in">Symbol</span>.for(<span class="string">'specialRead'</span>);</span><br><span class="line">    <span class="keyword">if</span> (obj[specialRead]) &#123;</span><br><span class="line">        <span class="keyword">const</span> reader = obj[specialRead]();</span><br><span class="line">        <span class="comment">// do something with reader</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'object cannot be read'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨å¦ä¸€ä¸ªåº“ä¸­ï¼š<br><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> specialRead = <span class="built_in">Symbol</span>.<span class="keyword">for</span>(<span class="string">'specialRead'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeReadableType</span> </span>&#123;</span><br><span class="line">    [specialRead]() &#123;</span><br><span class="line">        <span class="keyword">const</span> reader = createSomeReaderFrom(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">return</span> reader;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Maps">Maps</h2><p>Maps åœ¨ JavaScript ä¸­æ˜¯ä¸€ä¸ªéå¸¸å¿…é¡»çš„æ•°æ®ç»“æ„ï¼Œåœ¨ ES6 ä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡æ¥å®ç°å“ˆå¸Œè¡¨ï¼š<br><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">map</span> = <span class="built_in">new</span> Object();</span><br><span class="line"><span class="keyword">map</span>[key1] = <span class="string">'value1'</span>;</span><br><span class="line"><span class="keyword">map</span>[key2] = <span class="string">'value2'</span>;</span><br></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯å®ƒå¹¶ä¸èƒ½é˜²æ­¢æˆ‘ä»¬å¶ç„¶åœ°ç”¨ä¸€äº›ç‰¹æ®Šçš„å±æ€§åé‡å†™å‡½æ•°ï¼š<br><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">&gt; getOwnProperty(&#123; <span class="attribute">hasOwnProperty</span>: <span class="string">'Hah, overwritten'</span>&#125;, <span class="string">'Pwned'</span>);</span><br><span class="line">&gt; <span class="attribute">TypeError</span>: Property <span class="string">'hasOwnProperty'</span> <span class="keyword">is</span> <span class="keyword">not</span> a <span class="keyword">function</span></span><br></pre></td></tr></table></figure></p>
<p>å®é™…ä¸Š <strong>Maps</strong> å…è®¸æˆ‘ä»¬å¯¹å€¼è¿›è¡Œ <code>set</code>ã€<code>get</code> å’Œ <code>search</code> æ“ä½œï¼š<br><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="built_in">map</span> = <span class="literal">new</span> <span class="built_in">Map</span>();</span><br><span class="line">&gt; <span class="built_in">map</span><span class="built_in">.</span><span class="built_in">set</span>(<span class="string">'name'</span>, <span class="string">'david'</span>);</span><br><span class="line">&gt; <span class="built_in">map</span><span class="built_in">.</span>get(<span class="string">'name'</span>); <span class="comment">// david</span></span><br><span class="line">&gt; <span class="built_in">map</span><span class="built_in">.</span>has(<span class="string">'name'</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Maps</strong> æ›´ä»¤äººæƒŠå¥‡çš„éƒ¨åˆ†å°±æ˜¯å®ƒä¸ä»…é™äºä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸º keyï¼Œè¿˜å¯ä»¥ç”¨å…¶ä»–ä»»ä½•ç±»å‹çš„æ•°æ®ä½œä¸º keyï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">'name'</span>, <span class="string">'david'</span>],</span><br><span class="line">    [<span class="literal">true</span>, <span class="string">'false'</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="string">'one'</span>],</span><br><span class="line">    [&#123;&#125;, <span class="string">'object'</span>],</span><br><span class="line">    [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;, <span class="string">'function'</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> map.keys()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> key);</span><br><span class="line">    <span class="comment">// &gt; string, boolean, number, object, function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šä½†æˆ‘ä»¬ä½¿ç”¨ <code>map.get()</code> æ–¹æ³•å»æµ‹è¯•ç›¸ç­‰æ—¶ï¼Œå¦‚æœåœ¨ Maps ä¸­ä½¿ç”¨ å‡½æ•° æˆ–è€… å¯¹è±¡ ç­‰éåŸå§‹ç±»å‹å€¼çš„æ—¶å€™æµ‹è¯•å°†ä¸èµ·ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ Strings, Booleans å’Œ Numbers è¿™æ ·çš„åŸå§‹ç±»å‹çš„å€¼ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>.entries()</code> æ¥éå†è¿­ä»£ï¼š<br><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, <span class="keyword">value</span>] <span class="keyword">of</span> <span class="keyword">map</span>.entries()) &#123;</span><br><span class="line">    console.log(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="WeakMaps">WeakMaps</h2><p>åœ¨ ES6 ä¹‹å‰ï¼Œä¸ºäº†å­˜å‚¨ç§æœ‰å˜é‡ï¼Œæˆ‘ä»¬æœ‰å„ç§å„æ ·çš„æ–¹æ³•å»å®ç°ï¼Œå…¶ä¸­ä¸€ç§æ–¹æ³•å°±æ˜¯ç”¨å‘½åçº¦å®šï¼š<br><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(age) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _incrementAge() &#123;</span><br><span class="line">        <span class="keyword">this</span>._age += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯å‘½åçº¦å®šåœ¨ä»£ç ä¸­ä»ç„¶ä¼šä»¤äººæ··æ·†å¹¶ä¸”å¹¶ä¸ä¼šçœŸæ­£çš„ä¿æŒç§æœ‰å˜é‡ä¸è¢«è®¿é—®ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>WeakMaps</strong>  æ¥å­˜å‚¨å˜é‡ï¼š<br><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> _age = <span class="keyword">new</span> WeakMap();</span><br><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(age) </span>&#123;</span><br><span class="line">        _age.set(<span class="keyword">this</span>, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    incrementAge() &#123;</span><br><span class="line">        <span class="keyword">let</span> age = _age.get(<span class="keyword">this</span>) + <span class="number">1</span>;</span><br><span class="line">        _age.set(<span class="keyword">this</span>, age);</span><br><span class="line">        <span class="keyword">if</span> (age &gt; <span class="number">50</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'Midlife crisis'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ WeakMaps å­˜å‚¨å˜é‡å¾ˆé…·çš„ä¸€ä»¶äº‹æ˜¯å®ƒçš„ key ä»–ä¸éœ€è¦å±æ€§åç§°ï¼Œå¯ä»¥ä½¿ç”¨ <code>Reflect.ownKeys()</code> æ¥æŸ¥çœ‹è¿™ä¸€ç‚¹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">&gt; <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="number">50</span>);</span><br><span class="line">&gt; person.incrementAge(); <span class="comment">// 'Midlife crisis'</span></span><br><span class="line">&gt; Reflect.ownKeys(person); <span class="comment">// []</span></span><br></pre></td></tr></table></figure></p>
<p>ä¸€ä¸ªæ›´å®é™…çš„å®è·µå°±æ˜¯å¯ä»¥ WeakMaps å‚¨å­˜ DOM å…ƒç´ ï¼Œè€Œä¸ä¼šæ±¡æŸ“å…ƒç´ æœ¬èº«ï¼š<br><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="built_in">map</span> = <span class="literal">new</span> WeakMap();</span><br><span class="line"><span class="keyword">let</span> el  = document<span class="built_in">.</span>getElementById(<span class="string">'someElement'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Store a weak reference to the element with a key</span></span><br><span class="line"><span class="built_in">map</span><span class="built_in">.</span><span class="built_in">set</span>(el, <span class="string">'reference'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Access the value of the element</span></span><br><span class="line"><span class="keyword">let</span> value = <span class="built_in">map</span><span class="built_in">.</span>get(el); <span class="comment">// 'reference'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove the reference</span></span><br><span class="line">el<span class="built_in">.</span>parentNode<span class="built_in">.</span>removeChild(el);</span><br><span class="line">el = <span class="built_in">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map is empty, since the element is destroyed</span></span><br></pre></td></tr></table></figure></p>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶æœºåˆ¶é”€æ¯çš„æ—¶å€™ï¼Œ WeakMap å°†ä¼šè‡ªåŠ¨åœ°ä¸€å¤„å…³äºè¿™ä¸ªå¯¹è±¡åœ°é”®å€¼å¯¹ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šä¸ºäº†è¿›ä¸€æ­¥è¯´æ˜è¿™ä¸ªä¾‹å­çš„å®ç”¨æ€§ï¼Œå¯ä»¥è€ƒè™‘ jQuery æ˜¯å¦‚ä½•å®ç°ç¼“å­˜ä¸€ä¸ªå¯¹è±¡ç›¸å…³äºå¯¹å¼•ç”¨åœ° DOM å…ƒç´ å¯¹è±¡ã€‚ä½¿ç”¨ jQuery ï¼Œå½“ä¸€ä¸ªç‰¹å®šåœ°å…ƒç´ ä¸€æ—¦åœ¨ document ä¸­ç§»é™¤çš„æ—¶å€™ï¼ŒjQuery ä¼šè‡ªåŠ¨åœ°é‡Šæ”¾å†…å­˜ã€‚æ€»ä½“æ¥è¯´ï¼ŒjQuery åœ¨ä»»ä½• dom åº“ä¸­éƒ½æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
</blockquote>
<h2 id="Promises">Promises</h2><p>Promises å¯ä»¥è®©æˆ‘ä»¬è¿œç¦»å¹³è¡Œçš„ä»£ç ï¼ˆå›è°ƒåœ°ç‹±ï¼‰ï¼š<br><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">func1<span class="list">(<span class="keyword">function</span> <span class="list">(<span class="keyword">value1</span>)</span> &#123;</span><br><span class="line">    func2<span class="list">(<span class="keyword">value1</span>, function <span class="list">(<span class="keyword">value2</span>)</span> &#123;</span><br><span class="line">        func3<span class="list">(<span class="keyword">value2</span>, function <span class="list">(<span class="keyword">value3</span>)</span> &#123;</span><br><span class="line">            func4<span class="list">(<span class="keyword">value3</span>, function <span class="list">(<span class="keyword">value4</span>)</span> &#123;</span><br><span class="line">                func5<span class="list">(<span class="keyword">value4</span>, function <span class="list">(<span class="keyword">value5</span>)</span> &#123;</span><br><span class="line">                    // Do something with value <span class="number">5</span></span><br><span class="line">                &#125;)</span><span class="comment">;</span></span><br><span class="line">            &#125;)</span><span class="comment">;</span></span><br><span class="line">        &#125;)</span><span class="comment">;</span></span><br><span class="line">    &#125;)</span><span class="comment">;</span></span><br><span class="line">&#125;)</span><span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>è½¬å˜æˆå‚ç›´ä»£ç ï¼š<br><figure class="highlight ceylon"><table><tr><td class="code"><pre><span class="line">func<span class="number">1</span>(<span class="keyword">value</span><span class="number">1</span>)</span><br><span class="line">    .<span class="keyword">then</span>(func<span class="number">2</span>)</span><br><span class="line">    .<span class="keyword">then</span>(func<span class="number">3</span>)</span><br><span class="line">    .<span class="keyword">then</span>(func<span class="number">4</span>)</span><br><span class="line">    .<span class="keyword">then</span>(func<span class="number">5</span>, <span class="keyword">value</span><span class="number">5</span> =&gt; &#123;</span><br><span class="line">        <span class="comment">// Do something with value 5</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ ES6 ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ <a href="https://github.com/petkaantonov/bluebird" target="_blank" rel="external">bluebird</a> æˆ–è€… <a href="https://github.com/kriskowal/q" target="_blank" rel="external">q</a>ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„ <strong>Promise</strong> äº†ã€‚<br><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Promise(<span class="function"><span class="params">(resolve, reject)</span> =&gt;</span></span><br><span class="line">    reject(<span class="keyword">new</span> Error(<span class="string">'Failed to fulfill Promise'</span>)))</span><br><span class="line">        .<span class="keyword">catch</span>(reason =&gt; <span class="built_in">console</span>.log(reason));</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬æœ‰ä¸¤ä¸ªå¤„ç†å™¨ï¼Œ<code>resolve</code>ï¼ˆå½“Promiseæ˜¯ <code>fulfilled</code> æ—¶çš„å›è°ƒï¼‰å’Œ <code>reject</code>ï¼ˆå½“Promiseæ˜¯ <code>rejected</code> æ—¶çš„å›è°ƒï¼‰ï¼šã€‚</p>
<blockquote>
<p><strong>Promisesçš„å¥½å¤„</strong>ï¼šå¯¹é”™è¯¯çš„å¤„ç†ä½¿ç”¨ä¸€äº›åˆ—å›è°ƒä¼šä½¿ä»£ç å¾ˆæ··ä¹±ï¼Œä½¿ç”¨ Promise ï¼Œæˆ‘çœ‹å¯ä»¥æ¸…æ™°çš„è®©é”™è¯¯å†’æ³¡å¹¶ä¸”åœ¨åˆé€‚çš„æ—¶å€™å¤„ç†å®ƒï¼Œç”šè‡³ï¼Œåœ¨ Promise ç¡®å®šäº†  resolved/rejected ä¹‹åï¼Œä»–çš„å€¼æ˜¯ä¸å¯æ”¹å˜çš„ï¼ï¼å®ƒä»æ¥ä¸ä¼šå˜åŒ–ã€‚</p>
</blockquote>
<p>è¿™æ˜¯ä½¿ç”¨ Promise çš„ä¸€ä¸ªå®é™…çš„æ —å­ï¼š<br><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">var request = require<span class="list">(<span class="quoted">'request</span>')</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line">return new Promise<span class="list">(<span class="list">(<span class="keyword">resolve</span>, reject)</span> =&gt; &#123;</span><br><span class="line">  request.get<span class="list">(<span class="keyword">url</span>, <span class="list">(<span class="keyword">error</span>, response, body)</span> =&gt; &#123;</span><br><span class="line">    if <span class="list">(<span class="keyword">body</span>)</span> &#123;</span><br><span class="line">        resolve<span class="list">(<span class="keyword">JSON</span>.parse<span class="list">(<span class="keyword">body</span>)</span>)</span><span class="comment">;</span></span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        resolve<span class="list">(&#123;&#125;)</span><span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><span class="comment">;</span></span><br><span class="line">&#125;)</span><span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>Promise.all()</code> æ¥ <code>å¹¶è¡Œ</code> å¤„ç†å¤šä¸ªå¼‚æ­¥å‡½æ•°ï¼š<br><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">let urls = [</span><br><span class="line">  <span class="string">'/api/commits'</span>,</span><br><span class="line">  <span class="string">'/api/issues/opened'</span>,</span><br><span class="line">  <span class="string">'/api/issues/assigned'</span>,</span><br><span class="line">  <span class="string">'/api/issues/completed'</span>,</span><br><span class="line">  <span class="string">'/api/issues/comments'</span>,</span><br><span class="line">  <span class="string">'/api/pullrequests'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">let promises = urls.map(<span class="function"><span class="params">(url)</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Promise(<span class="function"><span class="params">(resolve, reject)</span> =&gt;</span> &#123;</span><br><span class="line">    $.ajax(&#123; <span class="attribute">url</span>: url &#125;)</span><br><span class="line">      .done(<span class="function"><span class="params">(data)</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(data);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Promise.all(promises)</span><br><span class="line">  .<span class="keyword">then</span>(<span class="function"><span class="params">(results)</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="regexp">//</span> Do something with results <span class="keyword">of</span> all our promises</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="Generators_ç”Ÿæˆå™¨">Generators ç”Ÿæˆå™¨</h2><p>å°±åƒ Promises  å¯ä»¥å¸®æˆ‘ä»¬é¿å…å›è°ƒåœ°ç‹±ï¼ŒGenerators å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®©ä»£ç é£æ ¼æ›´æ•´æ´ï¼ï¼ç”¨åŒæ­¥çš„ä»£ç é£æ ¼æ¥å†™å¼‚æ­¥ä»£ç ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯ä»¥æš‚åœè®¡ç®—å¹¶ä¸”å¯ä»¥éšåè¿”å›è¡¨è¾¾å¼çš„å€¼çš„å‡½æ•°ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„æ —å­ä½¿ç”¨ generatorsï¼š<br><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">function* sillyGenerator() &#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var generator = sillyGenerator();</span><br><span class="line">&gt; console.log(generator.<span class="keyword">next</span>()); <span class="regexp">//</span> &#123; <span class="symbol">value:</span> <span class="number">1</span>, <span class="symbol">done:</span> <span class="literal">false</span> &#125;</span><br><span class="line">&gt; console.log(generator.<span class="keyword">next</span>()); <span class="regexp">//</span> &#123; <span class="symbol">value:</span> <span class="number">2</span>, <span class="symbol">done:</span> <span class="literal">false</span> &#125;</span><br><span class="line">&gt; console.log(generator.<span class="keyword">next</span>()); <span class="regexp">//</span> &#123; <span class="symbol">value:</span> <span class="number">3</span>, <span class="symbol">done:</span> <span class="literal">false</span> &#125;</span><br><span class="line">&gt; console.log(generator.<span class="keyword">next</span>()); <span class="regexp">//</span> &#123; <span class="symbol">value:</span> <span class="number">4</span>, <span class="symbol">done:</span> <span class="literal">false</span> &#125;</span><br></pre></td></tr></table></figure></p>
<p><code>next</code> å¯ä»¥å›å»åˆ°ä¸‹ä¸€ä¸ª <code>yield</code> è¿”å›çš„å€¼ï¼Œå½“ç„¶ä¸Šé¢çš„ä»£ç æ˜¯éå¸¸ä¸è‡ªç„¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Generators æ¥ç”¨åŒæ­¥çš„æ–¹å¼æ¥å†™å¼‚æ­¥æ“ä½œï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Hiding asynchronousity with Generators</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span><span class="params">(url)</span> </span>&#123;</span><br><span class="line">    getJSON(url, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span><br><span class="line">        generator.next(response);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œçš„ generator å‡½æ•°å°†ä¼šè¿”å›éœ€è¦çš„æ•°æ®ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> entry1 = <span class="keyword">yield</span> request(<span class="string">'http://some_api/item1'</span>);</span><br><span class="line">    <span class="keyword">var</span> data1  = <span class="built_in">JSON</span>.parse(entry1);</span><br><span class="line">    <span class="keyword">var</span> entry2 = <span class="keyword">yield</span> request(<span class="string">'http://some_api/item2'</span>);</span><br><span class="line">    <span class="keyword">var</span> data2  = <span class="built_in">JSON</span>.parse(entry2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡ <code>yield</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯ <code>entry1</code> æœ‰ <code>data1</code> ä¸­æˆ‘ä»¬éœ€è¦è§£æå¹¶å‚¨å­˜çš„æ•°æ®ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Generators æ¥ç”¨åŒæ­¥çš„æ–¹å¼æ¥å†™å¼‚æ­¥æ“ä½œï¼Œä½†æ˜¯ç¡®è®¤é”™è¯¯çš„ä¼ æ’­å˜å¾—ä¸å†æ¸…æ™°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Generators ä¸­åŠ ä¸Š Promiseï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">        getJSON(url, resolve);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°é€æ­¥è°ƒç”¨ <code>next</code> å¹¶ä¸”åˆ©ç”¨ request æ–¹æ³•äº§ç”Ÿä¸€ä¸ª Promiseï¼š<br><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iterateGenerator</span><span class="params">(gen)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> generator = gen();</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> <span class="title">iterate</span><span class="params">(val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = generator.next();</span><br><span class="line">        <span class="keyword">if</span>(!ret.done) &#123;</span><br><span class="line">            ret.value.then(iterate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ Generators ä¸­åŠ ä¸Š Promise ä¹‹åæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ™°çš„ä½¿ç”¨ Promise ä¸­çš„ <code>.catch</code> å’Œ <code>reject</code>æ¥æ•æ‰é”™è¯¯ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ–°çš„ Generatorï¼Œå’Œä¹‹å‰çš„è¿˜æ˜¯è›®ç›¸ä¼¼çš„ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">iterateGenerator(<span class="function"><span class="keyword">function</span>* <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> entry1 = <span class="keyword">yield</span> request(<span class="string">'http://some_api/item1'</span>);</span><br><span class="line">    <span class="keyword">var</span> data1  = <span class="built_in">JSON</span>.parse(entry1);</span><br><span class="line">    <span class="keyword">var</span> entry2 = <span class="keyword">yield</span> request(<span class="string">'http://some_api/item2'</span>);</span><br><span class="line">    <span class="keyword">var</span> data2  = <span class="built_in">JSON</span>.parse(entry2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="Async_Await">Async Await</h2><p>å½“ ES6 çœŸæ­£åˆ°æ¥çš„æ—¶å€™ï¼Œ<code>async await</code> å¯ä»¥ç”¨æ›´å°‘çš„å¤„ç†å®ç°  Promise å’Œ  Generators æ‰€å®ç°çš„å¼‚æ­¥å¤„ç†ï¼š<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> request = <span class="built_in">require</span>(<span class="string">'request'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getJSON</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    request(url, <span class="function"><span class="keyword">function</span>(<span class="params">error, response, body</span>) </span>&#123;</span><br><span class="line">      resolve(body);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = <span class="keyword">await</span> getJSON();</span><br><span class="line">  <span class="built_in">console</span>.log(data); <span class="comment">// NOT undefined!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main();</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ js å¼•æ“ä¸­ï¼Œå®ƒæ‰€å®ç°çš„å’Œ Generators å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘æ›´æ¨èåœ¨ <code>Generators + Promises</code> ä¹‹ä¸Šä½¿ç”¨ <code>async await</code>ï¼Œæ›´å¤šçš„èµ„æºå’Œä½¿ç”¨ ES7 å’Œ ç”¨ babel è½¬åŒ–å¯ä»¥<a href="http://masnun.com/2015/11/11/using-es7-asyncawait-today-with-babel.html" target="_blank" rel="external">çœ‹è¿™é‡Œ</a>ã€‚</p>
<h2 id="Getter/Setter_å‡½æ•°">Getter/Setter å‡½æ•°</h2><p>ES6 å·²ç»å¼€å§‹å®ç°äº† <code>getter</code> å’Œ <code>setter</code> å‡½æ•°ï¼Œæ¯”å¦‚è™¾é¢è¿™ä¸ªæ —å­ï¼š<br><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> Employee &#123;</span><br><span class="line"></span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(name) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> name() &#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">this</span>._name) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Mr. '</span> + <span class="keyword">this</span>._name.toUpperCase();  </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> name(newName) &#123;</span><br><span class="line">      <span class="keyword">if</span> (newName == <span class="keyword">this</span>._name) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'I already have this name.'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newName) &#123;</span><br><span class="line">        <span class="keyword">this</span>._name = newName;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emp = <span class="keyword">new</span> Employee(<span class="string">"James Bond"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// uses the get method in the background</span></span><br><span class="line"><span class="keyword">if</span> (emp.name) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(emp.name);  <span class="comment">// Mr. JAMES BOND</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// uses the setter in the background</span></span><br><span class="line">emp.name = <span class="string">"Bond 007"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(emp.name);  <span class="comment">// Mr. BOND 007</span></span><br></pre></td></tr></table></figure></p>
<p>æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ä¹Ÿåœ¨å¯¹è±¡ä¸­å®ç°äº† <code>getter</code> å’Œ <code>setter</code> å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å®ç° <strong>è®¡ç®—å±æ€§</strong>ï¼Œåœ¨è®¾ç½®å’Œè·å–ä¸€ä¸ªå±æ€§ä¹‹å‰åŠ ä¸Šç›‘å¬å™¨å’Œå¤„ç†ã€‚<br><figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  firstName: <span class="string">'James'</span>,</span><br><span class="line">  lastName: <span class="string">'Bond'</span>,</span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">fullName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      console.log(<span class="string">'Getting FullName'</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">fullName</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">      console.log(<span class="string">'Setting FullName'</span>);</span><br><span class="line">      <span class="keyword">var</span> words = name.toString().split(<span class="string">' '</span>);</span><br><span class="line">      <span class="keyword">this</span>.firstName = words[<span class="number">0</span>] || <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">this</span>.lastName = words[<span class="number">1</span>] || <span class="string">''</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.fullName; <span class="comment">// James Bond</span></span><br><span class="line">person.fullName = <span class="string">'Bond 007'</span>;</span><br><span class="line">person.fullName; <span class="comment">// Bond 007</span></span><br></pre></td></tr></table></figure></p>
</div>

      <div class="post-sidebar">
  <div class="toggle-btn" id="toggle-btn">
    <i class="fa fa-reorder"></i>
  </div>
  <section class="post-toc-wrap" id="post-sidebar">
    <h2 class="toc-title">å†…å®¹ç›®å½•</h2>
    <div class="post-toc">
      
      
        <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#tip"><span class="nav-text">tip</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ES6_æ‰‹å†Œ"><span class="nav-text">ES6 æ‰‹å†Œ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å†…å®¹åˆ—è¡¨"><span class="nav-text">å†…å®¹åˆ—è¡¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#var_å’Œ_let/const_çš„æ¯”è¾ƒ"><span class="nav-text">var å’Œ let/const çš„æ¯”è¾ƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿_IIFES"><span class="nav-text">ç”¨å—çº§ä½œç”¨åŸŸä»£æ›¿ IIFES</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç®­å¤´å‡½æ•°"><span class="nav-text">ç®­å¤´å‡½æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å­—ç¬¦ä¸²"><span class="nav-text">å­—ç¬¦ä¸²</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#-includes(_)"><span class="nav-text">.includes( )</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-repeat(_)"><span class="nav-text">.repeat( )</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¨¡ç‰ˆå­—ç¬¦ä¸²"><span class="nav-text">æ¨¡ç‰ˆå­—ç¬¦ä¸²</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è§£æ„"><span class="nav-text">è§£æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»“æ„æ•°ç»„"><span class="nav-text">ç»“æ„æ•°ç»„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»“æ„å¯¹è±¡"><span class="nav-text">ç»“æ„å¯¹è±¡</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¨¡å—"><span class="nav-text">æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨_CommonJS_çš„å‡ºå£"><span class="nav-text">ä½¿ç”¨ CommonJS çš„å‡ºå£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨_ES6_çš„å‡ºå£"><span class="nav-text">ä½¿ç”¨ ES6 çš„å‡ºå£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6_ä¸­çš„å¯¼å…¥"><span class="nav-text">ES6 ä¸­çš„å¯¼å…¥</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚æ•°"><span class="nav-text">å‚æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é»˜è®¤å‚æ•°"><span class="nav-text">é»˜è®¤å‚æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rest_å‚æ•°"><span class="nav-text">rest å‚æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å‘½åå‚æ•°"><span class="nav-text">å‘½åå‚æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å±•å¼€æ“ä½œ"><span class="nav-text">å±•å¼€æ“ä½œ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç±»_Classes"><span class="nav-text">ç±» Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Symbols"><span class="nav-text">Symbols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Symbol()"><span class="nav-text">Symbol()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Symbol-for(key)"><span class="nav-text">Symbol.for(key)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maps"><span class="nav-text">Maps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WeakMaps"><span class="nav-text">WeakMaps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promises"><span class="nav-text">Promises</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Generators_ç”Ÿæˆå™¨"><span class="nav-text">Generators ç”Ÿæˆå™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Async_Await"><span class="nav-text">Async Await</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Getter/Setter_å‡½æ•°"><span class="nav-text">Getter/Setter å‡½æ•°</span></a></li></ol></li></ol></div>
      
    </div>
  </section>
</div>


    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags#JavaScript" rel="tag">#JavaScript</a>
          
        </div>
      
      
  <style>
    .donation {
      width: 100%;
      margin-top: 2rem;
    }
    .donation .text {
      color: #333;
      font-size: .8rem;
      cursor: pointer;
      text-decoration: underline;
    }
    .donation .text:hover {
      color: rgb(63,134,181);
    }
    .donation .img-box {
      transition: all .3s;
      width: 0;
      height: 0;
      margin: 1rem auto;
      overflow: hidden;
    }
    .donation .img-box img {
      width: 100%;
      height: 100%;
    }
    .donation #donation {
      display: none;
    }
    .donation #donation:checked + .img-box {
      width: 16rem;
      height: 16rem;
    }
  </style>
  <div class="donation">
    <label class="text" for="donation">
      å¦‚æœä½ è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¹¶ä¸”æƒ³ä¸ºæˆ‘ä¹°ä¸€æ¯å’–å•¡ï¼Œç‚¹è¿™é‡Œï½
    </label>
    <input type="checkbox" name="donation" id="donation">
    <div class="img-box">
      <img src="/img/donation.png" alt="donation" />
    </div>
    </style>
  </div>


    </footer>

  </article>



      
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="post/es6-cheatsheet.html"
           data-title="ES6 æ‰‹å†Œ" data-url="http://qiutc.me/post/es6-cheatsheet.html">
      </div>
    
  </div>




    </main>

    <footer class="footer clearfix">
  <div class="copyright" >
    <span>Copyright</span>
    
    &copy;  2015-
    <span itemprop="copyrightYear">2016</span>
    <span class="author" itemprop="copyrightHolder">é˜¿åŸğŸ˜‡</span>
  </div>

  <div class="info">
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
      <span id="showDays" class="show-days"></span>
      <script>
      var birthDay = new Date('10/04/2015');
      var now = new Date();
      var duration = now.getTime() - birthDay.getTime();
      var total= Math.floor(duration / (1000 * 60 * 60 * 24));
      document.getElementById("showDays").innerHTML = "æœ¬ç«™å·²è¿è¡Œ "+total+" å¤©";
      </script>
      ---
    
    <span id="busuanzi_container_site_pv">
        æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
    </span>
  </div>

</footer>


  </div>

  <div class="back-top-btn" id="back-top-btn"><i class="fa fa-chevron-up"></i></div>





  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"qiutongcheng"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     




<script type="text/javascript" src="/js/main.js?v=0.0.1"></script>


</body>
</html>
